<!-- Modal -->

<div class="modal fade" id="modalZapisEdit-{{ zapis.id }}" tabindex="-1" aria-labelledby="modalzapisedittitle"
  aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="header modal-header-wrap" style="padding: 10px;">


        <div class="row">
          <div class="col d-flex d-md-none justify-content-end">
            <button type="button" class="btn btn-primary" style="float: inline-end;" data-bs-dismiss="modal"
            aria-label="Close">X</button>
          </div>
          <div class="col-12 col-md-8 offset-md-2 d-flex justify-content-center ">
            <h1 class="title title-uslugi" id="modaluslugititle"><a class="title" href="/client-card?phone={{ zapis.phone }}">{{ zapis.client_name }}</a></h>
          </div>

          <div class="col">
            <button type="button" class="btn btn-primary d-none d-md-flex" style="float: inline-end;" data-bs-dismiss="modal"
            aria-label="Close">Возврат</button>


          </div>
        </div>

      </div>
      <div class="modal-body main modal-body-uslugi" style="width: 100%; min-height: 740px;">
        <div class="row modal-body-row"
          style=" min-height: 740px;">
          <div class="col-8 offset-2" style="padding-bottom: 100px; padding-top: 30px;">
            <form action="calendar/zapis-edit" method="post">
              {% include 'main/zapis-form.html' %}
              <p class="text-sections text-sections-form-zapis" style="margin-bottom: 0px; box-shadow: none; border-radius: 14px 14px 0px 0px; margin-top: 1rem;">Статус процедуры: {% if zapis.zapis_status == "1" %}ждет подтверждения{% elif zapis.zapis_status == "2" %}подтверждено{% elif zapis.zapis_status == "4" %}выполнено{% else %}отменено{% endif %}</p>
 
              <select name="status" class="form-select form-select-castom" style="border-radius: 0px 0px 14px 14px;" aria-label="Default select example">
                
                <option selected value="" ><p class="text-sections text-sections-form-zapis">Изменить</p></option>
    
                <option value="1">Ждет подтверждения</option>
                <option value="2">Подтверждено</option>
                <option value="4">Выполнено</option>
                <option value="3">Отменено</option>
                
              </select>
              <div class="row">
                <div class="col d-flex justify-content-center">
                  <button class="btn btn-primary btn-primary-edit" type="submit" name="editBtn" value="{{ zapis.id }}">Сохранить изменения</button>

                </div>
                <div class="col  d-flex justify-content-center" id="deleteBtn">
                  <button class="btn btn-primary btn-primary-edit" type="button" value="{{ zapis.id }}" onclick="DeleteBtn(this)" style="float: right; background-color: red;">Удалить запись</button>

                </div>
                <div class="col  d-none justify-content-center"  id="deleteBtnPod-{{ zapis.id }}" >
                  <button class="btn btn-primary btn-primary-edit"  type="submit" name="deleteBtn" value="{{ zapis.id }}" style="float: right; background-color: red;">Подтвердить удаление</button>

                </div>
              </div>
              
            </form>
            
          </div>
        </div>
      </div>

    </div>
  </div>
</div> 



<script>
  function DeleteBtn(obj){
    
    obj.parentNode.setAttribute('class', 'col  d-none justify-content-center');
    document.getElementById(`deleteBtnPod-${obj.value}`).setAttribute('class', 'col  d-flex justify-content-center');


    setTimeout( ()=>{
    obj.parentNode.setAttribute('class', 'col  d-flex justify-content-center');
    document.getElementById(`deleteBtnPod-${obj.value}`).setAttribute('class', 'col  d-none justify-content-center');
    }, 3000)
  }
</script>